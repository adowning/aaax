{"version":3,"sources":["webpack:///src/components/old/Consumables.vue","webpack:///./src/components/old/Consumables.vue?6aba","webpack:///./src/components/old/Consumables.vue"],"names":["__webpack_exports__","_this","this","$snipeit","post","assetId","then","response","currentRoute","catch","e","_this2","get","_ref2","data","rows","pagination","rowsNumber","error","serverPagination","filter","esExports","render","_vm","_h","$createElement","_c","_self","attrs","title","serverData","columns","loading","scopedSlots","_u","key","fn","props","_v","_s","row","category","name","qty","remaining","min_amt","location","assigned_to","_e","staticClass","size","small","square","color","on","click","$event","checkOut","id","available_actions","staticRenderFns","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_33f6e23a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Consumables_vue__","__webpack_require__","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Consumables_vue__"],"mappings":"mDAuBAA,EAAA,mCAGA,yBAGA,kBAGA,WACA,SACA,WACA,gBAEA,UAEA,gBACA,iBACA,aAEA,mBAEA,WACA,YAEA,cAEA,iBACA,kBAEA,oBAEA,eACA,gBAEA,kBAEA,gBACA,iBAGA,+DAIA,IAAAC,EAAAC,yBAMAC,SAAAC,KAAA,eAAAC,EAAA,2BAEA,iBAEAA,IAHAC,KAAA,SAAAC,eAKAA,cACA,4BACAC,gBAEAC,MAAA,SAAAC,eAEAA,iBAhBA,4CAmBA,IAAAC,EAAAT,yCACA,0BAEA,OACAC,SAAAS,IACA,eAAAN,KAAA,SAAAO,GACA,IAAAC,EAAAD,EAAAC,mBACAC,yBACAC,kCAEAC,0BAEAF,gBACA,IACAN,MAAA,SAAAS,cAEA,uDAOAC,6BAEAC,6CClHA,IAEAC,GAAiBC,OAFjB,WAA0B,IAAAC,EAAArB,KAAasB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,OAAOC,MAAA,cAAAf,KAAAS,EAAAO,WAAAC,QAAAR,EAAAQ,QAAAC,QAAAT,EAAAS,SAAwFC,YAAAV,EAAAW,KAAsBC,IAAA,OAAAC,GAAA,SAAAC,GAA8B,OAAAX,EAAA,QAAkBE,OAAOS,WAAeX,EAAA,QAAaS,IAAA,KAAAP,OAAgBS,WAAed,EAAAe,GAAA,KAAAZ,EAAA,QAAyBS,IAAA,WAAAP,OAAsBS,WAAed,EAAAe,GAAAf,EAAAgB,GAAAF,EAAAG,IAAAC,SAAAC,SAAAnB,EAAAe,GAAA,KAAAZ,EAAA,QAAmES,IAAA,MAAAP,OAAiBS,WAAed,EAAAe,GAAAf,EAAAgB,GAAAF,EAAAG,IAAAG,QAAApB,EAAAe,GAAA,KAAAZ,EAAA,QAAyDS,IAAA,YAAAP,OAAuBS,WAAed,EAAAe,GAAAf,EAAAgB,GAAAF,EAAAG,IAAAI,cAAArB,EAAAe,GAAA,KAAAZ,EAAA,QAA+DS,IAAA,UAAAP,OAAqBS,WAAed,EAAAe,GAAAf,EAAAgB,GAAAF,EAAAG,IAAAK,YAAAtB,EAAAe,GAAA,KAAAZ,EAAA,QAA6DS,IAAA,WAAAP,OAAsBS,WAAed,EAAAe,GAAAf,EAAAgB,GAAAF,EAAAG,IAAAM,SAAAJ,SAAAnB,EAAAe,GAAA,KAAAD,EAAAG,IAAAO,YAA4RxB,EAAAyB,KAA5RtB,EAAA,SAA6FuB,YAAA,UAAArB,OAA6BsB,KAAA,KAAAC,MAAA,GAAAC,OAAA,GAAAC,MAAA,SAAmDC,IAAKC,MAAA,SAAAC,GAAyBjC,EAAAkC,SAAApB,EAAAG,IAAAkB,GAAArB,EAAAG,IAAAmB,kBAAAtB,EAAAG,IAAAO,iBAAiFxB,EAAAe,GAAA,0BAEriCsB,oBACjB5D,EAAA,mGCHA6D,EAAAC,EAAA,KAcAC,EAdAD,EAAA,GAcAE,CACAC,EAAA,EACAJ,EAAA,GATA,EAEA,KAEA,KAEA,MAUA7D,EAAA,QAAA+D,EAAA","file":"static/js/7.12c838046a1844a1e0ce.js","sourcesContent":["<template>\n  <q-table\n    title=\"Consumables\"\n    :data=\"serverData\"\n    :columns=\"columns\"\n        :loading=\"loading\"\n\n  >\n   <q-tr slot=\"body\" slot-scope=\"props\" :props=\"props\">\n\n        <q-td key=\"id\" :props=\"props\"></q-td>\n        <q-td key=\"category\" :props=\"props\">{{ props.row.category.name }}</q-td>\n       <q-td key=\"qty\" :props=\"props\">{{ props.row.qty }}</q-td> \n        <q-td key=\"remaining\" :props=\"props\">{{ props.row.remaining }}</q-td> \n        <q-td key=\"min_amt\" :props=\"props\">{{ props.row.min_amt }}</q-td>\n        <q-td key=\"location\" :props=\"props\">{{ props.row.location.name }}</q-td>\n            <q-btn v-if=\"!props.row.assigned_to\" size=\"sm\"  small square color=\"amber\" @click=\"checkOut(props.row.id, props.row.available_actions, props.row.assigned_to)\" class=\"q-mr-xs\" >Check Out</q-btn>\n        \n   </q-tr>\n  </q-table>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    loading: false,\n    serverPagination: {\n      page: 1\n    },\n    columns: [\n      {\n        name: \"id\",\n        label: \"\",\n        field: \"id\",\n        align: \"left\",\n        visible: false\n      },\n      {\n        label: \"Category\",\n        name: \"category\",\n        align: \"left\",\n        field: \"category\"\n      },\n      {\n        label: \"Qty\",\n        name: \"qty\",\n        field: \"qty\"\n      },\n      {\n        label: \"Remaining\",\n        name: \"remaining\",\n        field: \"remaining\"\n      },\n      {\n        label: \"Minimum\",\n        name: \"min_amt\",\n        field: \"min_amt\"\n      },\n      {\n        label: \"Location\",\n        name: \"location\",\n        field: \"location\"\n      }\n    ],\n    serverData: []\n  }),\n  methods: {\n    checkOut(assetId, actions, assigned_to) {\n      if (!actions.checkout || assigned_to) {\n        console.log(\"not gonna hapn capn\");\n        return;\n      }\n\n      this.$snipeit\n        .post(\"consumables/\" + assetId + \"/checkout\", {\n          assigned_user: 1,\n          assigned_asset: assetId\n        })\n        .then(response => {\n          console.log(response);\n          this.selected = null;\n          this.$router.go(this.$router.currentRoute);\n          // this.request(20, 0)\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    request({ pagination, filter }) {\n      console.log(\"updating\");\n      this.loading = true;\n\n      this.$snipeit\n        .get(\"consumables\")\n        .then(({ data }) => {\n          console.log(data.rows);\n          this.serverPagination = pagination;\n          this.serverPagination.rowsNumber = data.rowsNumber;\n\n          this.serverData = data.rows;\n\n          this.loading = false;\n        })\n        .catch(error => {\n          this.loading = false;\n        });\n    }\n  },\n  mounted() {\n    // once mounted, we need to trigger the initial server data fetch\n    this.request({\n      pagination: this.serverPagination,\n      filter: this.filter\n    });\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/old/Consumables.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-table',{attrs:{\"title\":\"Consumables\",\"data\":_vm.serverData,\"columns\":_vm.columns,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return _c('q-tr',{attrs:{\"props\":props}},[_c('q-td',{key:\"id\",attrs:{\"props\":props}}),_vm._v(\" \"),_c('q-td',{key:\"category\",attrs:{\"props\":props}},[_vm._v(_vm._s(props.row.category.name))]),_vm._v(\" \"),_c('q-td',{key:\"qty\",attrs:{\"props\":props}},[_vm._v(_vm._s(props.row.qty))]),_vm._v(\" \"),_c('q-td',{key:\"remaining\",attrs:{\"props\":props}},[_vm._v(_vm._s(props.row.remaining))]),_vm._v(\" \"),_c('q-td',{key:\"min_amt\",attrs:{\"props\":props}},[_vm._v(_vm._s(props.row.min_amt))]),_vm._v(\" \"),_c('q-td',{key:\"location\",attrs:{\"props\":props}},[_vm._v(_vm._s(props.row.location.name))]),_vm._v(\" \"),(!props.row.assigned_to)?_c('q-btn',{staticClass:\"q-mr-xs\",attrs:{\"size\":\"sm\",\"small\":\"\",\"square\":\"\",\"color\":\"amber\"},on:{\"click\":function($event){_vm.checkOut(props.row.id, props.row.available_actions, props.row.assigned_to)}}},[_vm._v(\"Check Out\")]):_vm._e()],1)}}])})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33f6e23a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/old/Consumables.vue\n// module id = 507\n// module chunks = 7","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Consumables.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Consumables.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33f6e23a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Consumables.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/old/Consumables.vue\n// module id = 52\n// module chunks = 7"],"sourceRoot":""}