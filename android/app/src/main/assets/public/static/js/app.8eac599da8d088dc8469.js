webpackJsonp([9],{16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(18),i=n(22),s=n(46),a=n(6);o.default.use(a.a),o.default.use(s.a),o.default.config.productionTip=!1,new o.default({el:"#app",store:a.a,router:i.a,template:"<App/>",components:{App:r.a}})},18:function(e,t,n){"use strict";var o=n(5),r=n(21);var i=function(e){n(19)},s=n(13)(o.a,r.a,!1,i,"data-v-1b14c4e6",null);t.a=s.exports},19:function(e,t){},21:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.user?e._e():n("div",[n("div",{staticClass:"login-page"},[n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{type:"password",placeholder:"pass"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),e._v(" "),n("button",{on:{click:function(t){e.onSignin(e.email,e.pass)}}},[e._v("login")])])])]),e._v(" "),e.user?n("router-view"):e._e()],1)},staticRenderFns:[]};t.a=o},22:function(e,t,n){"use strict";var o=n(2),r=n(23),i=n(6);o.default.use(r.a);var s=[{path:"/layout",component:function(){return n.e(1).then(n.bind(null,49))},children:[{path:"/profile",component:function(){return n.e(5).then(n.bind(null,50))}},{path:"/hardware",component:function(){return n.e(3).then(n.bind(null,51))}},{path:"/consumables",component:function(){return n.e(7).then(n.bind(null,52))}},{path:"/liveview",component:function(){return n.e(0).then(n.bind(null,53))}},{path:"/schedule",component:function(){return n.e(4).then(n.bind(null,54))}},{path:"/directory",component:function(){return n.e(2).then(n.bind(null,55))}}]},{path:"*",component:function(){return n.e(6).then(n.bind(null,56))}}],a=new r.a({scrollBehavior:function(){return{y:0}},routes:s,mode:"history"});a.beforeEach(function(e,t,n){"/"!==e.path?i.a.getters.user?n():(console.log("There is no user, redirect to login. ("+e.path+")"),n("/")):n()}),t.a=a},25:function(e,t,n){"use strict";var o=n(7),r=n.n(o),i={state:{user:null,currentTimeSheet:null,isLoggedIn:null},mutations:{setUser:function(e,t){t?(e.user=t.employee,e.currentTimeSheet=t.timeClock,e.isLoggedIn=!0):(e.user=null,e.currentTimeSheet=null)},setTimeClock:function(e,t){e.currentTimeSheet=t}},actions:{adjustTimeClock:function(e,t){var n=e.commit;console.log(t.currentTimeSheet),r.a.post("http://nr.ashdevtools.com/clock",{id:t.employeeId,notes:t.notes}).then(function(e){console.log(e),n("setTimeClock",e.data.data)}).catch(function(e){console.log(e)})},signUserOut:function(e,t){(0,e.commit)("setLoading",!0)},signUserIn:function(e,t){var n=e.commit;r.a.post("http://nr.ashdevtools.com/login",{email:t.email}).then(function(e){console.log(e.data),n("setUser",e.data)})},signUserUp:function(e,t){var n=e.commit;n("setLoading",!0),n("clearError")}},getters:{user:function(e){return e.user},currentTimeSheet:function(e){return e.currentTimeSheet}}};t.a=i},46:function(e,t,n){"use strict";var o=n(7),r=n.n(o);t.a={install:function(e){Object.defineProperty(e.prototype,"$http",{value:r.a}),e.prototype.$snipeit=r.a.create({baseURL:"http://nr.ashdevtools.com/api/snipeit/",timeout:1e3,headers:{Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjAxOWRkM2VmODU4ZDFjYTNmODgxYjU1MmY0ZjVmYmJkNTgzYjc0MGI1YWU0YWM4OGJmZWRjZGE4ODNiZjY5ZjZiNzZlMWE4Yjg4NjgyNmMzIn0.eyJhdWQiOiI1IiwianRpIjoiMDE5ZGQzZWY4NThkMWNhM2Y4ODFiNTUyZjRmNWZiYmQ1ODNiNzQwYjVhZTRhYzg4YmZlZGNkYTg4M2JmNjlmNmI3NmUxYThiODg2ODI2YzMiLCJpYXQiOjE1MjExMjE4NDgsIm5iZiI6MTUyMTEyMTg0OCwiZXhwIjoxNTUyNjU3ODQ4LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.VT8U9TsjYNr63cvXhSCDVTrY5gtLmUh9mnIN6Ln_vYttQQ9bJ_o1yrCH4RRl9wbfGAhj6wjkI64tim8xc6lo_X1kIaXY1j5Za31f8-9Fgd6lG5HMkNy8iXP5safSAmfWfPEOxCX_em-RVtQRfVf8vOxqOrXtzbnGZRwPoDcD_35qXZ8gmcej-ZOglLi7KZfhsQeKVbdRG5IE2z4NoMByUQm-kIyk_WYGVEeommcqumwgtkYIsEsiQzQiZkAiKEST1zzzVctKOU8fgKRbD_MzUer21SfgU6A74duXh1DswOO7FwFqGE2g3SFlqDv5ajcX8iDJazcCl-HclCOLNCHJKQolljTmCexBq-5c7x2UEmyuWNFkjGbGj8qzVcVmPGcz7EH3vBnEzKuRlwrunlaK9eZFI_RaHSGS8kM0XALBteqTgybMjLTejSjliB1ft2BQEh9JVH9mdsdL_2R0IYpKDWJK4LEE5_TnLc88Jj-BvfEp3h9iqv1HTEzmyTVBUjkIoJYrMzI5p3MMwJ6fP5TWvwP3le3dwBn9XxsOZHGOuxdVFNImmSJQNzwUBhL7MGLdBMq8x6hFjFVFy3dT6ySIIxdnw25YMG-w1dRUPa_ueCalRoAlwklcLmLKrkYSnrG1KRhXMLczvet1-l3mkOHOMd1mXFqFpl0x-JW9g4hjYpw",Accept:"application/json"}})}}},5:function(e,t,n){"use strict";t.a={data:function(){return{email:"",pass:"",devMode:"production"}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(e){null!==e&&void 0!==e&&(console.log(e),this.$router.push("/profile"))}},methods:{onSignin:function(e,t){var n=this;console.log(e,t),window.localStorage.clear(),window.sessionStorage.clear(),this.$store.dispatch("signUserIn",{email:e,password:t}).then(function(){console.log(n.$store.getters.user)})},onDismissed:function(){this.$store.dispatch("clearError")}}}},6:function(e,t,n){"use strict";var o=n(2),r=n(24),i=n(25),s=n(44),a=new(n.n(s).a)({key:"vuex",storage:window.sessionStorage});o.default.use(r.a);var u=new r.a.Store({modules:{auth:i.a},state:{loading:!1,error:null,onlineUsers:[]},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null},setOnlineUsers:function(e,t){e.onlineUsers=t}},actions:{loadOnlineUsers:function(e){e.commit},clearError:function(e){(0,e.commit)("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error},onlineUsers:function(e){return e.onlineUsers}},plugins:[a.plugin]});t.a=u}},[16]);
//# sourceMappingURL=app.8eac599da8d088dc8469.js.map